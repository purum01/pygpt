<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-python.min.js"></script> 
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css" rel="stylesheet" />    

<h1 class="title">Streamlit Develop</h1>
<div class="faq-container">

    <div class="faq-section">
        <div class="faq-question">
            <img src="gpt.png"   width="34px" height="34px" >
            Text
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">        
            <button class="copy-btn" onclick="copyCode('source-code1')">ğŸ“‹ Copy</button>    
<pre><code id="source-code1" class="language-python">
import streamlit as st

# íƒ€ì´í‹€ ì ìš© ì˜ˆì‹œ
st.title('ì´ê²ƒì€ íƒ€ì´í‹€ ì…ë‹ˆë‹¤')

# íŠ¹ìˆ˜ ì´ëª¨í‹°ì½˜ ì‚½ì… ì˜ˆì‹œ
# emoji: https://streamlit-emoji-shortcodes-streamlit-app-gwckff.streamlit.app/
st.title('ìŠ¤ë§ˆì¼ :sunglasses:')

# Header ì ìš©
st.header('í—¤ë”ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆì–´ìš”! :sparkles:')

# Subheader ì ìš©str
st.subheader('ì´ê²ƒì€ subheader ì…ë‹ˆë‹¤')

# ìº¡ì…˜ ì ìš©
st.caption('ìº¡ì…˜ì„ í•œ ë²ˆ ë„£ì–´ ë´¤ìŠµë‹ˆë‹¤')

# ì½”ë“œ í‘œì‹œ
sample_code = '''
def function():
    print('hello, world')
'''
st.code(sample_code, language="python")

# ì¼ë°˜ í…ìŠ¤íŠ¸
st.text('ì¼ë°˜ì ì¸ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.')

# ë§ˆí¬ë‹¤ìš´ ë¬¸ë²• ì§€ì›
st.markdown('streamlitì€ **ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ì„ ì§€ì›**í•©ë‹ˆë‹¤.')
# ì»¬ëŸ¬ì½”ë“œ: blue, green, orange, red, violet
st.markdown("í…ìŠ¤íŠ¸ì˜ ìƒ‰ìƒì„ :green[ì´ˆë¡ìƒ‰]ìœ¼ë¡œ, ê·¸ë¦¬ê³  **:blue[íŒŒë€ìƒ‰]** ë³¼íŠ¸ì²´ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
st.markdown(":green[$\sqrt{x^2+y^2}=1$] ì™€ ê°™ì´ latex ë¬¸ë²•ì˜ ìˆ˜ì‹ í‘œí˜„ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤ :pencil:")

# LaTex ìˆ˜ì‹ ì§€ì›
st.latex(r'\sqrt{x^2+y^2}=1')
</code></pre>
        </div>
    </div>
    <div class="faq-section">
        <div class="faq-question">
            <img src="gpt.png"   width="34px" height="34px" >
            Data
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">      
<button class="copy-btn" onclick="copyCode('source-code2')">ğŸ“‹ Copy</button>                      
<pre><code id="source-code2" class="language-python">
import streamlit as st
import pandas as pd
import numpy as np


st.title('ë°ì´í„°í”„ë ˆì„ íŠœí† ë¦¬ì–¼')

# DataFrame ìƒì„±
dataframe = pd.DataFrame({
    'first column': [1, 2, 3, 4],
    'second column': [10, 20, 30, 40],
})

# DataFrame
# use_container_width ê¸°ëŠ¥ì€ ë°ì´í„°í”„ë ˆì„ì„ ì»¨í…Œì´ë„ˆ í¬ê¸°ì— í™•ì¥í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. (True/False)
st.dataframe(dataframe, use_container_width=False)


# í…Œì´ë¸”(static)
# DataFrameê³¼ëŠ” ë‹¤ë¥´ê²Œ interactive í•œ UI ë¥¼ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
st.table(dataframe)


# # ë©”íŠ¸ë¦­
st.metric(label="ì˜¨ë„", value="10Â°C", delta="1.2Â°C")
st.metric(label="ì‚¼ì„±ì „ì", value="61,000 ì›", delta="-1,200 ì›")

# ì»¬ëŸ¼ìœ¼ë¡œ ì˜ì—­ì„ ë‚˜ëˆ„ì–´ í‘œê¸°í•œ ê²½ìš°
col1, col2, col3 = st.columns(3)
col1.metric(label="ë‹¬ëŸ¬USD", value="1,228 ì›", delta="-12.00 ì›")
col2.metric(label="ì¼ë³¸JPY(100ì—”)", value="958.63 ì›", delta="-7.44 ì›")
col3.metric(label="ìœ ëŸ½ì—°í•©EUR", value="1,335.82 ì›", delta="11.44 ì›")                
</code></pre>
        </div>
    </div>
    <div class="faq-section">
        <div class="faq-question">
            <img src="gpt.png"   width="34px" height="34px" >
            Covid with Streamlit
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">       
            <button class="copy-btn" onclick="copyCode('source-code3')">ğŸ“‹ Copy</button>                     
<pre><code id="source-code3" class="language-python">
import pandas as pd
import os
import glob
import streamlit as st

# Streamlit ì•±ì˜ ì œëª© ì„¤ì •
st.title('2020ë…„ Covid í˜„í™©')

# ì‚¬ìš©ìë¡œë¶€í„° ë””ë ‰í„°ë¦¬ ê²½ë¡œ ì…ë ¥ ë°›ê¸°
input_folder = st.text_input('ë””ë ‰í„°ë¦¬ ê²½ë¡œ ì…ë ¥:', 'covid')

# ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì´ ìœ„ì¹˜í•œ ë””ë ‰í† ë¦¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì…ë ¥ë°›ì€ ê²½ë¡œ ì¡°í•©
base_path = os.path.abspath(os.path.dirname(__file__))
folder_path = os.path.join(base_path, input_folder)

# ê²½ë¡œ í™•ì¸ ë²„íŠ¼
if st.button('ë°ì´í„° ì²˜ë¦¬ ë° ì €ì¥'):
    if not os.path.exists(folder_path):
        st.error('ì…ë ¥í•œ ê²½ë¡œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê²½ë¡œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.')
    else:
        # covid ë””ë ‰í„°ë¦¬ì—ì„œ ëª¨ë“  csv íŒŒì¼ ëª©ë¡ì„ ê°€ì ¸ì˜´
        csv_files = glob.glob(os.path.join(folder_path, '*.csv'))

        # ë³‘í•©ëœ ë°ì´í„°ë¥¼ ì €ì¥í•  ë¹ˆ ë°ì´í„°í”„ë ˆì„ ìƒì„±
        merged_df = pd.DataFrame()

        for file in csv_files:
            # íŒŒì¼ì—ì„œ 'Country_Region', 'Confirmed' ì»¬ëŸ¼ë§Œ ì½ì–´ì˜´
            df = pd.read_csv(file, usecols=['Country_Region', 'Confirmed'])
            
            # 'Country_Region'ë³„ë¡œ ê·¸ë£¹í•‘í•˜ê³  'Confirmed'ì˜ í•©ê³„ë¥¼ êµ¬í•¨
            grouped_df = df.groupby('Country_Region', as_index=False).sum()
            
            # íŒŒì¼ ì´ë¦„ì—ì„œ í™•ì¥ìë¥¼ ì œê±°í•˜ê³  '-'ë¥¼ '/'ë¡œ ë³€ê²½í•¨
            column_name = os.path.basename(file).replace('.csv', '').replace('-', '/')
            # 'Confirmed' ì»¬ëŸ¼ ì´ë¦„ì„ ë³€ê²½í•¨
            grouped_df.columns = ['Country_Region', column_name]
            
            # ë³‘í•©ëœ ë°ì´í„°í”„ë ˆì„ì— í˜„ì¬ ë°ì´í„°í”„ë ˆì„ì„ ë³‘í•©í•¨
            if merged_df.empty:
                merged_df = grouped_df
            else:
                merged_df = pd.merge(merged_df, grouped_df, on='Country_Region', how='outer')

        # NaN ê°’ì„ 0ìœ¼ë¡œ ì±„ì›€
        merged_df.fillna(0, inplace=True)

        # ë³‘í•©ëœ ë°ì´í„°ë¥¼ í™”ë©´ì— í‘œì‹œ
        st.dataframe(merged_df)
        merged_df.to_excel('2020_Covid_Status.xlsx', index=False)                   
</code></pre>
        </div>
    </div>
    <div class="faq-section">
        <div class="faq-question">
            <img src="gpt.png"   width="34px" height="34px" >
            Basic UI
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">            
            <button class="copy-btn" onclick="copyCode('source-code4')">ğŸ“‹ Copy</button>                      
<pre><code id="source-code4" class="language-python">
import streamlit as st
import pandas as pd
from datetime import datetime as dt
import datetime

# ë²„íŠ¼ í´ë¦­
button = st.button('ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”')

if button:
    st.write(':blue[ë²„íŠ¼]ì´ ëˆŒë ¸ìŠµë‹ˆë‹¤ :sparkles:')


# íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼
# ìƒ˜í”Œ ë°ì´í„° ìƒì„±
dataframe = pd.DataFrame({
    'first column': [1, 2, 3, 4],
    'second column': [10, 20, 30, 40],
})

# ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ì—°ê²°
st.download_button(
    label='CSVë¡œ ë‹¤ìš´ë¡œë“œ',
    data=dataframe.to_csv(), 
    file_name='sample.csv', 
    mime='text/csv'
)

# ì²´í¬ ë°•ìŠ¤
agree = st.checkbox('ë™ì˜ í•˜ì‹­ë‹ˆê¹Œ?')

if agree:
    st.write('ë™ì˜ í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ :100:')

# ë¼ë””ì˜¤ ì„ íƒ ë²„íŠ¼
mbti = st.radio(
    'ë‹¹ì‹ ì˜ MBTIëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?',
    ('ISTJ', 'ENFP', 'ì„ íƒì§€ ì—†ìŒ'))

if mbti == 'ISTJ':
    st.write('ë‹¹ì‹ ì€ :blue[í˜„ì‹¤ì£¼ì˜ì] ì´ì‹œë„¤ìš”')
elif mbti == 'ENFP':
    st.write('ë‹¹ì‹ ì€ :green[í™œë™ê°€] ì´ì‹œë„¤ìš”')
else:
    st.write("ë‹¹ì‹ ì— ëŒ€í•´ :red[ì•Œê³  ì‹¶ì–´ìš”]:grey_exclamation:")

# ì„ íƒ ë°•ìŠ¤
mbti = st.selectbox(
    'ë‹¹ì‹ ì˜ MBTIëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?',
    ('ISTJ', 'ENFP', 'ì„ íƒì§€ ì—†ìŒ'), 
    index=2
)

if mbti == 'ISTJ':
    st.write('ë‹¹ì‹ ì€ :blue[í˜„ì‹¤ì£¼ì˜ì] ì´ì‹œë„¤ìš”')
elif mbti == 'ENFP':
    st.write('ë‹¹ì‹ ì€ :green[í™œë™ê°€] ì´ì‹œë„¤ìš”')
else:
    st.write("ë‹¹ì‹ ì— ëŒ€í•´ :red[ì•Œê³  ì‹¶ì–´ìš”]:grey_exclamation:")

# ë‹¤ì¤‘ ì„ íƒ ë°•ìŠ¤
options = st.multiselect(
    'ë‹¹ì‹ ì´ ì¢‹ì•„í•˜ëŠ” ê³¼ì¼ì€ ë­”ê°€ìš”?',
    ['ë§ê³ ', 'ì˜¤ë Œì§€', 'ì‚¬ê³¼', 'ë°”ë‚˜ë‚˜'],
    ['ë§ê³ ', 'ì˜¤ë Œì§€'])

st.write(f'ë‹¹ì‹ ì˜ ì„ íƒì€: :red[{options}] ì…ë‹ˆë‹¤.')


# ìŠ¬ë¼ì´ë”
values = st.slider(
    'ë²”ìœ„ì˜ ê°’ì„ ë‹¤ìŒê³¼ ê°™ì´ ì§€ì •í•  ìˆ˜ ìˆì–´ìš”:sparkles:',
    0.0, 100.0, (25.0, 75.0))
st.write('ì„ íƒ ë²”ìœ„:', values)

start_time = st.slider(
    "ì–¸ì œ ì•½ì†ì„ ì¡ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œìš”?",
    min_value=dt(2020, 1, 1, 0, 0), 
    max_value=dt(2020, 1, 7, 23, 0),
    value=dt(2020, 1, 3, 12, 0),
    step=datetime.timedelta(hours=1),
    format="MM/DD/YY - HH:mm")
st.write("ì„ íƒí•œ ì•½ì† ì‹œê°„:", start_time)


# í…ìŠ¤íŠ¸ ì…ë ¥
title = st.text_input(
    label='ê°€ê³  ì‹¶ì€ ì—¬í–‰ì§€ê°€ ìˆë‚˜ìš”?', 
    placeholder='ì—¬í–‰ì§€ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”'
)
st.write(f'ë‹¹ì‹ ì´ ì„ íƒí•œ ì—¬í–‰ì§€: :violet[{title}]')

# ìˆ«ì ì…ë ¥
number = st.number_input(
    label='ë‚˜ì´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.', 
    min_value=10, 
    max_value=100, 
    value=30,
    step=5
)
st.write('ë‹¹ì‹ ì´ ì…ë ¥í•˜ì‹  ë‚˜ì´ëŠ”:  ', number)
</code></pre>
        </div>
    </div>
    <div class="faq-section">
        <div class="faq-question">
            <img src="gpt.png"   width="34px" height="34px" >
            Lotto
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">            
            <button class="copy-btn" onclick="copyCode('source-code5')">ğŸ“‹ Copy</button>                      
<pre><code id="source-code5" class="language-python">
import streamlit as st
import random
import datetime

st.title(':sparkles:ë¡œë˜ ìƒì„±ê¸°:sparkles:')

def generate_lotto():
    lotto = set()

    while len(lotto) < 6:
        number = random.randint(1, 46)
        lotto.add(number)

    lotto = list(lotto)
    lotto.sort() 
    return lotto

button = st.button('ë¡œë˜ë¥¼ ìƒì„±í•´ ì£¼ì„¸ìš”!')

if button:
    for i in range(1, 6):
        st.subheader(f'{i}. í–‰ìš´ì˜ ë²ˆí˜¸: :green[{generate_lotto()}]')
    st.write(f"ìƒì„±ëœ ì‹œê°: {datetime.datetime.now().strftime('%Y-%m-%d %H:%M')}")
</code></pre>
        </div>
    </div>

    <div class="faq-section">
        <div class="faq-question">
            <img src="gpt.png"   width="34px" height="34px" >
            Chart
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">    
            <button class="copy-btn" onclick="copyCode('source-code6')">ğŸ“‹ Copy</button>                      
<pre><code id="source-code6" class="language-python">
import streamlit as st
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import numpy as np

# í•œê¸€ í°íŠ¸ ì„¤ì •
plt.rcParams['font.family'] = "NanumGothic"
plt.rcParams['axes.unicode_minus'] = False


# DataFrame ìƒì„±
data = pd.DataFrame({
    'ì´ë¦„': ['ì˜ì‹', 'ì² ìˆ˜', 'ì˜í¬'],
    'ë‚˜ì´': [22, 31, 25],
    'ëª¸ë¬´ê²Œ': [75.5, 80.2, 55.1]
})

st.dataframe(data, use_container_width=True)

fig, ax = plt.subplots()
ax.bar(data['ì´ë¦„'], data['ë‚˜ì´'])
st.pyplot(fig)

barplot = sns.barplot(x='ì´ë¦„', y='ë‚˜ì´', data=data, ax=ax, palette='Set2')
fig = barplot.get_figure()

st.pyplot(fig)

#############

labels = ['G1', 'G2', 'G3', 'G4', 'G5']
men_means = [20, 35, 30, 35, 27]
women_means = [25, 32, 34, 20, 25]
men_std = [2, 3, 4, 1, 2]
women_std = [3, 5, 2, 3, 3]
width = 0.35       # the width of the bars: can also be len(x) sequence

fig, ax = plt.subplots()

ax.bar(labels, men_means, width, yerr=men_std, label='Men')
ax.bar(labels, women_means, width, yerr=women_std, bottom=men_means, label='Women')

ax.set_ylabel('Scores')
ax.set_title('Scores by group and gender')
ax.legend()

st.pyplot(fig)
</code></pre>
        </div>
    </div>
    <div class="faq-section">
        <div class="faq-question">
            <img src="gpt.png"   width="34px" height="34px" >
            File
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">            
            <button class="copy-btn" onclick="copyCode('source-code7')">ğŸ“‹ Copy</button>                      
<pre><code id="source-code7" class="language-python">
import streamlit as st
import pandas as pd
import time

# íŒŒì¼ ì—…ë¡œë“œ ë²„íŠ¼ (ì—…ë¡œë“œ ê¸°ëŠ¥)
file = st.file_uploader("íŒŒì¼ ì„ íƒ(csv or excel)", type=['csv', 'xls', 'xlsx'])

time.sleep(3)

# Excel or CSV í™•ì¥ìë¥¼ êµ¬ë¶„í•˜ì—¬ ì¶œë ¥í•˜ëŠ” ê²½ìš°
if file is not None:
    ext = file.name.split('.')[-1]
    if ext == 'csv':
        # íŒŒì¼ ì½ê¸°
        df = pd.read_csv(file)
        # ì¶œë ¥
        st.dataframe(df)
    elif 'xls' in ext:
        # ì—‘ì…€ ë¡œë“œ
        df = pd.read_excel(file, engine='openpyxl')
        # ì¶œë ¥
        st.dataframe(df)                
</code></pre>
        </div>
    </div>
    <div class="faq-section">
        <div class="faq-question">
            <img src="gpt.png"   width="34px" height="34px" >
            Stock Chart
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">            
            <button class="copy-btn" onclick="copyCode('source-code8')">ğŸ“‹ Copy</button>                      
<pre><code id="source-code8" class="language-python">
import streamlit as st
import FinanceDataReader as fdr
import datetime

# ì‚¬ì´íŠ¸ ì œëª©ê³¼ ì„¤ëª… ì¶”ê°€
st.title("ì£¼ì‹ ì¢…ê°€ ì°¨íŠ¸ ì¡°íšŒ")
st.write("ì›í•˜ëŠ” ì¢…ëª©ì½”ë“œì™€ ì‹œì‘ì¼ì„ ì…ë ¥í•˜ë©´, í•´ë‹¹ ì£¼ì‹ì˜ ì¢…ê°€ ì°¨íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")

# KOSPI TOP 10 ì¢…ëª©ì½”ë“œ ëª©ë¡
top10 = {
    "ì‚¼ì„±ì „ì": "005930",
    "SKí•˜ì´ë‹‰ìŠ¤": "000660",
    "ì‚¼ì„±ì „ììš°": "005935",
    "LGì—ë„ˆì§€ì†”ë£¨ì…˜": "373220",
    "ì‚¼ì„±ë°”ì´ì˜¤ë¡œì§ìŠ¤": "207940",
    "í˜„ëŒ€ì°¨": "005380",
    "POSCOí™€ë”©ìŠ¤": "005490",
    "NAVER": "035420",
    "ê¸°ì•„": "000270",
    "ì¹´ì¹´ì˜¤": "035720"
}

date = st.date_input(
    "ì¡°íšŒ ì‹œì‘ì¼ì„ ì„ íƒí•´ ì£¼ì„¸ìš”",
    datetime.datetime(2025, 7, 1)
)

code = st.selectbox(
    'ì¢…ëª©ì½”ë“œ(KOSPI TOP 10)', 
    options=list(top10.values()),
    format_func=lambda x: [k for k, v in top10.items() if v == x][0]
)

if code and date:
    df = fdr.DataReader(code, date)
    st.dataframe(df)
    data = df.loc[:, 'Close']
    st.line_chart(data)           
</code></pre>
        </div>
    </div>
    <div class="faq-section">
        <div class="faq-question">
            <img src="gpt.png"   width="34px" height="34px" >
            ë¶€ì„œë³„ ì—…ë¬´ì‹œê°„ ëŒ€ì‹œë³´ë“œ
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">            
            <button class="copy-btn" onclick="copyCode('source-code8')">ğŸ“‹ Copy</button>                      
<pre><code id="source-code8" class="language-python">  
import streamlit as st
import pandas as pd
from datetime import date

st.set_page_config(page_title="ë¶€ì„œë³„ ì—…ë¬´ì‹œê°„ ëŒ€ì‹œë³´ë“œ", layout="wide")

st.title("ğŸ•’ ë¶€ì„œë³„ ì—…ë¬´ì‹œê°„ ê¸°ë¡ ë° ì‹œê°í™”")

# ì´ˆê¸° ë°ì´í„° íŒŒì¼
DATA_FILE = "worklog.csv"

# 1. ì…ë ¥ í¼
st.subheader("ğŸ“‹ ì—…ë¬´ì‹œê°„ ì…ë ¥")

with st.form("worklog_form"):
    col1, col2, col3 = st.columns(3)

    with col1:
        name = st.text_input("ì´ë¦„", placeholder="í™ê¸¸ë™")
    with col2:
        dept = st.selectbox("ë¶€ì„œ", ["ê°œë°œíŒ€", "ë§ˆì¼€íŒ…íŒ€", "ë””ìì¸íŒ€", "ì¸ì‚¬íŒ€", "ê²½ì˜ì§€ì›íŒ€"])
    with col3:
        work_date = st.date_input("ë‚ ì§œ", date.today())

    hours = st.slider("ì—…ë¬´ ì‹œê°„ (ì‹œê°„ ë‹¨ìœ„)", 0.0, 12.0, 8.0, 0.5)
    submitted = st.form_submit_button("ì €ì¥í•˜ê¸°")

    if submitted:
        new_record = pd.DataFrame({
            "ì´ë¦„": [name],
            "ë¶€ì„œ": [dept],
            "ë‚ ì§œ": [work_date],
            "ì—…ë¬´ì‹œê°„": [hours]
        })

        try:
            old_data = pd.read_csv(DATA_FILE)
            df = pd.concat([old_data, new_record], ignore_index=True)
        except FileNotFoundError:
            df = new_record

        df.to_csv(DATA_FILE, index=False)
        st.success("âœ… ì—…ë¬´ ê¸°ë¡ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.")

# 2. ë°ì´í„° ë¡œë“œ ë° ì‹œê°í™”
st.subheader("ğŸ“ˆ ë¶€ì„œë³„ ì—…ë¬´ì‹œê°„ ë¶„ì„")

try:
    df = pd.read_csv(DATA_FILE)
    df["ë‚ ì§œ"] = pd.to_datetime(df["ë‚ ì§œ"])
    st.dataframe(df.sort_values("ë‚ ì§œ", ascending=False))

    pivot = df.pivot_table(index="ë¶€ì„œ", values="ì—…ë¬´ì‹œê°„", aggfunc="mean")
    st.bar_chart(pivot)
except FileNotFoundError:
    st.info("â›” ì•„ì§ ì €ì¥ëœ ì—…ë¬´ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.")

</code></pre>
        </div>
    </div>    
</div>

<script src="content.js"></script>

<script>
    function copyCode(elementId) {
        // í•´ë‹¹ ìš”ì†Œì˜ í…ìŠ¤íŠ¸ë¥¼ ì„ íƒí•˜ê³  ë³µì‚¬í•©ë‹ˆë‹¤.
        var codeElement = document.getElementById(elementId);
        var range = document.createRange();
        range.selectNodeContents(codeElement);
        var selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
    
        try {
            document.execCommand('copy');
        } catch (err) {
            alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
        
        // ì„ íƒ í•´ì œ
        selection.removeAllRanges();
    }
    </script>